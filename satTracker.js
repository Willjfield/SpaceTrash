/// Make separate json file and include in html before these ones
// iterate through variable that json data is in and assign tle_line_1(and 2)
// Put all the processing in that loop
// compare to long/lat from html
// if thisSatelliteDistance<closestSatelliteDistance { thisSatellite = closest...}
/*
API_CALL : https://www.space-track.org/basicspacedata/query/class/tle_latest/EPOCH/%3E2015-03-25/OBJECT_TYPE/DEBRIS/OBJECT_ID/%3E2014/orderby/EPOCH%20asc/limit/100/metadata/false
Replace "2015-03-25" with last date
Replace 2014 if needed
*/
var trash = 
[{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40366","OBJECT_NAME":"BREEZE-M DEB (TANK)","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14089C","EPOCH":"2015-03-25 02:58:14","EPOCH_MICROSECONDS":"409695","MEAN_MOTION":"5.1830784","ECCENTRICITY":"0.5243262","INCLINATION":"49.5438","RA_OF_ASC_NODE":"3.2946","ARG_OF_PERICENTER":"49.2356","MEAN_ANOMALY":"345.6991","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"451","BSTAR":"0.0012413","MEAN_MOTION_DOT":"4.264e-05","MEAN_MOTION_DDOT":"0","FILE":"1846264","TLE_LINE0":"0 BREEZE-M DEB (TANK)","TLE_LINE1":"1 40366U 14089C   15084.12377789  .00004264  00000-0  12413-2 0  9992","TLE_LINE2":"2 40366 049.5438 003.2946 5243262 049.2356 345.6991 05.18307840  4514","OBJECT_ID":"2014-089C","OBJECT_NUMBER":"40366"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40263","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14059C","EPOCH":"2015-03-25 05:00:33","EPOCH_MICROSECONDS":"111648","MEAN_MOTION":"14.48243929","ECCENTRICITY":"0.011314","INCLINATION":"98.324","RA_OF_ASC_NODE":"174.6526","ARG_OF_PERICENTER":"39.3243","MEAN_ANOMALY":"321.6084","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"2575","BSTAR":"0.00085795","MEAN_MOTION_DOT":"3.425e-05","MEAN_MOTION_DDOT":"0","FILE":"1846034","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 40263U 14059C   15084.20871657  .00003425  00000-0  85795-3 0  9999","TLE_LINE2":"2 40263 098.3240 174.6526 0113140 039.3243 321.6084 14.48243929 25757","OBJECT_ID":"2014-059C","OBJECT_NUMBER":"40263"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40049","OBJECT_NAME":"SL-24 PLAT","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14033AR","EPOCH":"2015-03-25 06:20:03","EPOCH_MICROSECONDS":"297984","MEAN_MOTION":"14.86142918","ECCENTRICITY":"0.00148","INCLINATION":"97.9677","RA_OF_ASC_NODE":"344.4069","ARG_OF_PERICENTER":"90.7738","MEAN_ANOMALY":"269.5163","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"4117","BSTAR":"0.00024095","MEAN_MOTION_DOT":"2.061e-05","MEAN_MOTION_DDOT":"0","FILE":"1846197","TLE_LINE0":"0 SL-24 PLAT","TLE_LINE1":"1 40049U 14033AR  15084.26392706  .00002061  00000-0  24095-3 0  9993","TLE_LINE2":"2 40049 097.9677 344.4069 0014800 090.7738 269.5163 14.86142918 41170","OBJECT_ID":"2014-033AR","OBJECT_NUMBER":"40049"},{"ORDINAL":"2","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40048","OBJECT_NAME":"SL-24 DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14033AQ","EPOCH":"2015-03-25 07:04:54","EPOCH_MICROSECONDS":"833376","MEAN_MOTION":"15.04564827","ECCENTRICITY":"0.0039179","INCLINATION":"97.9665","RA_OF_ASC_NODE":"350.4294","ARG_OF_PERICENTER":"142.802","MEAN_ANOMALY":"217.5805","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"4170","BSTAR":"0.0014053","MEAN_MOTION_DOT":"0.00020025","MEAN_MOTION_DDOT":"0","FILE":"1846193","TLE_LINE0":"0 SL-24 DEB","TLE_LINE1":"1 40048U 14033AQ  15084.29507909  .00020025  00000-0  14053-2 0  9990","TLE_LINE2":"2 40048 097.9665 350.4294 0039179 142.8020 217.5805 15.04564827 41705","OBJECT_ID":"2014-033AQ","OBJECT_NUMBER":"40048"},{"ORDINAL":"2","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40309","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14071E","EPOCH":"2015-03-25 10:57:49","EPOCH_MICROSECONDS":"133951","MEAN_MOTION":"15.12748708","ECCENTRICITY":"0.0105469","INCLINATION":"97.1396","RA_OF_ASC_NODE":"24.7387","ARG_OF_PERICENTER":"114.5058","MEAN_ANOMALY":"246.7647","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"1965","BSTAR":"0.0025546","MEAN_MOTION_DOT":"0.00051564","MEAN_MOTION_DDOT":"0","FILE":"1846215","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 40309U 14071E   15084.45681868  .00051564  00000-0  25546-2 0  9998","TLE_LINE2":"2 40309 097.1396 024.7387 0105469 114.5058 246.7647 15.12748708 19653","OBJECT_ID":"2014-071E","OBJECT_NUMBER":"40309"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40113","OBJECT_NAME":"CZ-4C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14047E","EPOCH":"2015-03-25 12:04:02","EPOCH_MICROSECONDS":"565407","MEAN_MOTION":"13.43943306","ECCENTRICITY":"0.0030191","INCLINATION":"63.4157","RA_OF_ASC_NODE":"127.0173","ARG_OF_PERICENTER":"16.4405","MEAN_ANOMALY":"343.7593","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"3067","BSTAR":"0","MEAN_MOTION_DOT":"-9e-07","MEAN_MOTION_DDOT":"0","FILE":"1846218","TLE_LINE0":"0 CZ-4C DEB","TLE_LINE1":"1 40113U 14047E   15084.50280747 -.00000090  00000-0  00000+0 0  9995","TLE_LINE2":"2 40113 063.4157 127.0173 0030191 016.4405 343.7593 13.43943306 30678","OBJECT_ID":"2014-047E","OBJECT_NUMBER":"40113"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"39627","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14014D","EPOCH":"2015-03-25 12:08:49","EPOCH_MICROSECONDS":"804799","MEAN_MOTION":"14.20993474","ECCENTRICITY":"0.018409","INCLINATION":"98.0487","RA_OF_ASC_NODE":"112.3595","ARG_OF_PERICENTER":"195.5119","MEAN_ANOMALY":"164.0372","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"5100","BSTAR":"0.00056656","MEAN_MOTION_DOT":"1.418e-05","MEAN_MOTION_DDOT":"0","FILE":"1846111","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 39627U 14014D   15084.50613200  .00001418  00000-0  56656-3 0  9997","TLE_LINE2":"2 39627 098.0487 112.3595 0184090 195.5119 164.0372 14.20993474 51006","OBJECT_ID":"2014-014D","OBJECT_NUMBER":"39627"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40279","OBJECT_NAME":"BREEZE-M DEB (TANK)","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14064C","EPOCH":"2015-03-25 12:55:16","EPOCH_MICROSECONDS":"207391","MEAN_MOTION":"2.15468365","ECCENTRICITY":"0.7404456","INCLINATION":"48.9703","RA_OF_ASC_NODE":"227.305","ARG_OF_PERICENTER":"33.4948","MEAN_ANOMALY":"356.3629","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"332","BSTAR":"0.0011652","MEAN_MOTION_DOT":"0.00014747","MEAN_MOTION_DDOT":"3.5895e-07","FILE":"1846197","TLE_LINE0":"0 BREEZE-M DEB (TANK)","TLE_LINE1":"1 40279U 14064C   15084.53838203  .00014747  35895-6  11652-2 0  9993","TLE_LINE2":"2 40279 048.9703 227.3050 7404456 033.4948 356.3629 02.15468365  3327","OBJECT_ID":"2014-064C","OBJECT_NUMBER":"40279"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40507","OBJECT_NAME":"BREEZE-M DEB (TANK)","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"15012C","EPOCH":"2015-03-25 13:45:51","EPOCH_MICROSECONDS":"861888","MEAN_MOTION":"4.76759944","ECCENTRICITY":"0.5498114","INCLINATION":"49.4716","RA_OF_ASC_NODE":"152.0404","ARG_OF_PERICENTER":"357.1886","MEAN_ANOMALY":"0.7903","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"31","BSTAR":"0","MEAN_MOTION_DOT":"-9.1e-07","MEAN_MOTION_DDOT":"0","FILE":"1846210","TLE_LINE0":"0 BREEZE-M DEB (TANK)","TLE_LINE1":"1 40507U 15012C   15084.57351692 -.00000091  00000-0  00000+0 0  9991","TLE_LINE2":"2 40507 049.4716 152.0404 5498114 357.1886 000.7903 04.76759944   313","OBJECT_ID":"2015-012C","OBJECT_NUMBER":"40507"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40048","OBJECT_NAME":"SL-24 DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14033AQ","EPOCH":"2015-03-25 16:39:31","EPOCH_MICROSECONDS":"552416","MEAN_MOTION":"15.04587705","ECCENTRICITY":"0.0038753","INCLINATION":"97.9664","RA_OF_ASC_NODE":"350.8417","ARG_OF_PERICENTER":"141.2833","MEAN_ANOMALY":"219.1612","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"4176","BSTAR":"0.0014587","MEAN_MOTION_DOT":"0.00020795","MEAN_MOTION_DDOT":"0","FILE":"1846483","TLE_LINE0":"0 SL-24 DEB","TLE_LINE1":"1 40048U 14033AQ  15084.69411519  .00020795  00000-0  14587-2 0  9991","TLE_LINE2":"2 40048 097.9664 350.8417 0038753 141.2833 219.1612 15.04587705 41767","OBJECT_ID":"2014-033AQ","OBJECT_NUMBER":"40048"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"39629","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14014F","EPOCH":"2015-03-25 17:02:20","EPOCH_MICROSECONDS":"490432","MEAN_MOTION":"14.22371624","ECCENTRICITY":"0.0179197","INCLINATION":"98.4545","RA_OF_ASC_NODE":"129.7417","ARG_OF_PERICENTER":"205.7911","MEAN_ANOMALY":"153.4251","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"5108","BSTAR":"0.0006293","MEAN_MOTION_DOT":"1.606e-05","MEAN_MOTION_DDOT":"0","FILE":"1846255","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 39629U 14014F   15084.70995938  .00001606  00000-0  62930-3 0  9993","TLE_LINE2":"2 39629 098.4545 129.7417 0179197 205.7911 153.4251 14.22371624 51083","OBJECT_ID":"2014-014F","OBJECT_NUMBER":"39629"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40265","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14059E","EPOCH":"2015-03-25 18:25:24","EPOCH_MICROSECONDS":"290399","MEAN_MOTION":"14.18469831","ECCENTRICITY":"0.0198904","INCLINATION":"97.931","RA_OF_ASC_NODE":"159.3816","ARG_OF_PERICENTER":"6.5902","MEAN_ANOMALY":"353.782","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"2530","BSTAR":"0.00053239","MEAN_MOTION_DOT":"1.299e-05","MEAN_MOTION_DDOT":"0","FILE":"1846315","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 40265U 14059E   15084.76764225  .00001299  00000-0  53239-3 0  9999","TLE_LINE2":"2 40265 097.9310 159.3816 0198904 006.5902 353.7820 14.18469831 25307","OBJECT_ID":"2014-059E","OBJECT_NUMBER":"40265"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40266","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14059F","EPOCH":"2015-03-25 19:00:26","EPOCH_MICROSECONDS":"212320","MEAN_MOTION":"14.19529635","ECCENTRICITY":"0.0194153","INCLINATION":"98.3442","RA_OF_ASC_NODE":"167.794","ARG_OF_PERICENTER":"9.7862","MEAN_ANOMALY":"350.7002","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"2532","BSTAR":"0.0005785","MEAN_MOTION_DOT":"1.43e-05","MEAN_MOTION_DDOT":"0","FILE":"1846287","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 40266U 14059F   15084.79197005  .00001430  00000-0  57850-3 0  9999","TLE_LINE2":"2 40266 098.3442 167.7940 0194153 009.7862 350.7002 14.19529635 25323","OBJECT_ID":"2014-059F","OBJECT_NUMBER":"40266"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40309","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14071E","EPOCH":"2015-03-25 20:29:18","EPOCH_MICROSECONDS":"816863","MEAN_MOTION":"15.12803106","ECCENTRICITY":"0.0105516","INCLINATION":"97.1409","RA_OF_ASC_NODE":"25.1105","ARG_OF_PERICENTER":"112.3582","MEAN_ANOMALY":"248.9517","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"1971","BSTAR":"0.0026393","MEAN_MOTION_DOT":"0.00053379","MEAN_MOTION_DDOT":"0","FILE":"1846354","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 40309U 14071E   15084.85369001  .00053379  00000-0  26393-2 0  9991","TLE_LINE2":"2 40309 097.1409 025.1105 0105516 112.3582 248.9517 15.12803106 19713","OBJECT_ID":"2014-071E","OBJECT_NUMBER":"40309"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40264","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14059D","EPOCH":"2015-03-25 20:53:36","EPOCH_MICROSECONDS":"495455","MEAN_MOTION":"14.47451635","ECCENTRICITY":"0.0114458","INCLINATION":"97.8756","RA_OF_ASC_NODE":"165.7915","ARG_OF_PERICENTER":"29.6054","MEAN_ANOMALY":"331.1542","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"2583","BSTAR":"0.00093391","MEAN_MOTION_DOT":"3.68e-05","MEAN_MOTION_DDOT":"0","FILE":"1846315","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 40264U 14059D   15084.87056129  .00003680  00000-0  93391-3 0  9996","TLE_LINE2":"2 40264 097.8756 165.7915 0114458 029.6054 331.1542 14.47451635 25830","OBJECT_ID":"2014-059D","OBJECT_NUMBER":"40264"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40288","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14066C","EPOCH":"2015-03-25 21:06:39","EPOCH_MICROSECONDS":"371903","MEAN_MOTION":"14.18788478","ECCENTRICITY":"0.0192368","INCLINATION":"97.9725","RA_OF_ASC_NODE":"189.2222","ARG_OF_PERICENTER":"92.1516","MEAN_ANOMALY":"270.1695","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"2120","BSTAR":"0.00091329","MEAN_MOTION_DOT":"2.245e-05","MEAN_MOTION_DDOT":"0","FILE":"1846342","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 40288U 14066C   15084.87962236  .00002245  00000-0  91329-3 0  9990","TLE_LINE2":"2 40288 097.9725 189.2222 0192368 092.1516 270.1695 14.18788478 21203","OBJECT_ID":"2014-066C","OBJECT_NUMBER":"40288"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40290","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14066E","EPOCH":"2015-03-25 21:09:31","EPOCH_MICROSECONDS":"199040","MEAN_MOTION":"14.50025289","ECCENTRICITY":"0.0102395","INCLINATION":"97.97","RA_OF_ASC_NODE":"195.9987","ARG_OF_PERICENTER":"123.6559","MEAN_ANOMALY":"237.4445","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"2167","BSTAR":"0.0013349","MEAN_MOTION_DOT":"5.491e-05","MEAN_MOTION_DDOT":"0","FILE":"1846341","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 40290U 14066E   15084.88161110  .00005491  00000-0  13349-2 0  9997","TLE_LINE2":"2 40290 097.9700 195.9987 0102395 123.6559 237.4445 14.50025289 21679","OBJECT_ID":"2014-066E","OBJECT_NUMBER":"40290"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"39626","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14014C","EPOCH":"2015-03-26 02:10:09","EPOCH_MICROSECONDS":"835968","MEAN_MOTION":"14.49925353","ECCENTRICITY":"0.0109881","INCLINATION":"98.0088","RA_OF_ASC_NODE":"126.6964","ARG_OF_PERICENTER":"198.9333","MEAN_ANOMALY":"160.7763","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"5210","BSTAR":"0.00086048","MEAN_MOTION_DOT":"3.55e-05","MEAN_MOTION_DDOT":"0","FILE":"1846402","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 39626U 14014C   15085.09039162  .00003550  00000-0  86048-3 0  9997","TLE_LINE2":"2 39626 098.0088 126.6964 0109881 198.9333 160.7763 14.49925353 52101","OBJECT_ID":"2014-014C","OBJECT_NUMBER":"39626"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"39628","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14014E","EPOCH":"2015-03-26 03:33:30","EPOCH_MICROSECONDS":"474432","MEAN_MOTION":"14.50016648","ECCENTRICITY":"0.0109247","INCLINATION":"98.4531","RA_OF_ASC_NODE":"145.4901","ARG_OF_PERICENTER":"210.6118","MEAN_ANOMALY":"148.8672","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"5212","BSTAR":"0.0010209","MEAN_MOTION_DOT":"4.221e-05","MEAN_MOTION_DDOT":"0","FILE":"1846404","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 39628U 14014E   15085.14826938  .00004221  00000-0  10209-2 0  9991","TLE_LINE2":"2 39628 098.4531 145.4901 0109247 210.6118 148.8672 14.50016648 52127","OBJECT_ID":"2014-014E","OBJECT_NUMBER":"39628"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40289","OBJECT_NAME":"CZ-2C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14066D","EPOCH":"2015-03-26 05:28:01","EPOCH_MICROSECONDS":"143264","MEAN_MOTION":"14.4803641","ECCENTRICITY":"0.0113725","INCLINATION":"98.4396","RA_OF_ASC_NODE":"203.998","ARG_OF_PERICENTER":"128.4578","MEAN_ANOMALY":"232.6887","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"2168","BSTAR":"0.0012606","MEAN_MOTION_DOT":"5.038e-05","MEAN_MOTION_DDOT":"0","FILE":"1846498","TLE_LINE0":"0 CZ-2C DEB","TLE_LINE1":"1 40289U 14066D   15085.22779101  .00005038  00000-0  12606-2 0  9991","TLE_LINE2":"2 40289 098.4396 203.9980 0113725 128.4578 232.6887 14.48036410 21683","OBJECT_ID":"2014-066D","OBJECT_NUMBER":"40289"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40114","OBJECT_NAME":"CZ-4C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14047F","EPOCH":"2015-03-26 05:39:46","EPOCH_MICROSECONDS":"875744","MEAN_MOTION":"13.43575476","ECCENTRICITY":"0.0028458","INCLINATION":"63.4174","RA_OF_ASC_NODE":"125.5261","ARG_OF_PERICENTER":"14.5256","MEAN_ANOMALY":"345.6584","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"3077","BSTAR":"0","MEAN_MOTION_DOT":"-9e-07","MEAN_MOTION_DDOT":"0","FILE":"1846507","TLE_LINE0":"0 CZ-4C DEB","TLE_LINE1":"1 40114U 14047F   15085.23595921 -.00000090  00000-0  00000+0 0  9990","TLE_LINE2":"2 40114 063.4174 125.5261 0028458 014.5256 345.6584 13.43575476 30776","OBJECT_ID":"2014-047F","OBJECT_NUMBER":"40114"},{"ORDINAL":"1","COMMENT":"GENERATED VIA SPACETRACK.ORG API","ORIGINATOR":"JSPOC","NORAD_CAT_ID":"40342","OBJECT_NAME":"CZ-4C DEB","OBJECT_TYPE":"DEBRIS","CLASSIFICATION_TYPE":"U","INTLDES":"14080E","EPOCH":"2015-03-26 05:43:54","EPOCH_MICROSECONDS":"389279","MEAN_MOTION":"13.43800359","ECCENTRICITY":"0.0012178","INCLINATION":"63.4202","RA_OF_ASC_NODE":"50.693","ARG_OF_PERICENTER":"357.7912","MEAN_ANOMALY":"2.3058","EPHEMERIS_TYPE":"0","ELEMENT_SET_NO":"999","REV_AT_EPOCH":"1417","BSTAR":"0","MEAN_MOTION_DOT":"-9e-07","MEAN_MOTION_DDOT":"0","FILE":"1846518","TLE_LINE0":"0 CZ-4C DEB","TLE_LINE1":"1 40342U 14080E   15085.23882395 -.00000090  00000-0  00000+0 0  9994","TLE_LINE2":"2 40342 063.4202 050.6930 0012178 357.7912 002.3058 13.43800359 14175","OBJECT_ID":"2014-080E","OBJECT_NUMBER":"40342"}];

var mods =[];
var isOn=[];
var spriteNum=[];
var trackOn = false;
var pickupOn = false;
var trashLeft;

var parent = document.getElementById("mainDiv");
var child = document.getElementById("transbox");


var trackButton = document.getElementById("track");
trackButton.addEventListener("click",buttonAction);

function buttonAction(){
   console.log("clicked");
   trackOn = true;
   pickupOn = false;
   parent.removeChild(child);
}

var pickupButton = document.getElementById("pickup");
pickupButton.addEventListener("click",pubuttonAction);

function pubuttonAction(){
   console.log("clicked");
   pickupOn = true;
   trackOn = false;
   parent.removeChild(child);
}

function setup(){
	createCanvas(1400,708);
	background(0);
	trashLeft = trash.length;
	worldMap = loadImage("images/worldMap.png");

	loadImage("images/worldMap.png", function(img) {
		push();
		image(img, 0, 0);
		//image(img, 0, 708);
		pop();
		});

	for (i in trash){
		isOn[i] = true;
		spriteNum[i] = int(random(1,3));
	}
}

function draw(){
	if(frameCount%30==0){
		stroke(255);
		push();
		if(pickupOn == true){
		image(worldMap,0,0);
		}
		pop();
smooth();
var now = new Date();
var gmst = satellite.gstime_from_date (now.getUTCFullYear(), 
                                       now.getUTCMonth() + 1, // Note, this function requires months in range 1-12. 
                                       now.getUTCDate(),
                                       now.getUTCHours(), 
                                       now.getUTCMinutes(), 
                                       now.getUTCSeconds());
for(i in trash){
	var tle_line_1 = trash[i].TLE_LINE1; 
	var tle_line_2 = trash[i].TLE_LINE2;

// Initialize a satellite record
var satrec = satellite.twoline2satrec (tle_line_1, tle_line_2);

//  Propagate satellite using time since epoch (in minutes).
//var position_and_velocity = satellite.sgp4 (satrec, 141772676);
//console.log(position_and_velocity);
//  Or you can use a calendar date and time (obtained from Javascript [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)).


// NOTE: while Javascript Date returns months in range 0-11, all satellite.js methods require months in range 1-12.
// You will need GMST for some of the coordinate transforms
// Also, be aware that the month range is 1-12, not 0-11.


var position_and_velocity = satellite.propagate (satrec, 
												now.getUTCFullYear(), 
                                                now.getUTCMonth() + 1, // Note, this function requires months in range 1-12. 
                                                now.getUTCDate(),
                                                now.getUTCHours(), 
                                                now.getUTCMinutes(), 
                                                now.getUTCSeconds());

// The position_velocity result is a key-value pair of ECI coordinates.
// These are the base results from which all other coordinates are derived.
var position_eci = position_and_velocity["position"];
var velocity_eci = position_and_velocity["velocity"];
//console.log(position_and_velocity);
//console.log(position_eci);

// Set the Observer at 122.03 West by 36.96 North, in RADIANS
var deg2rad = Math.PI / 180;
var observer_gd = {
	longitude : 40.7127 * deg2rad,
	latitude  : -74.0059 * deg2rad,
	height    : 0
};

///// gmst here


// You can get ECF, Geodetic, Look Angles, and Doppler Factor.
//var position_ecf   = satellite.eci_to_ecf (position_eci, gmst);
//var observer_ecf   = satellite.geodetic_to_ecf (observer_gd);
var position_gd    = satellite.eci_to_geodetic (position_eci,gmst);
//var look_angles    = satellite.ecf_to_look_angles (observer_gd, position_ecf);
//var doppler_factor = satellite.doppler_factor (observer_coords_ecf, position_ecf, velocity_ecf);

// The coordinates are all stored in key-value pairs.
// ECI and ECF are accessed by "x", "y", "z".
var satellite_x = position_eci["x"];
var satellite_y = position_eci["y"];
var satellite_z = position_eci["z"];

// Look Angles may be accessed by "azimuth", "elevation", "range_sat".
//var azimuth   = look_angles["azimuth"];
//var elevation = look_angles["elevation"];
//var rangeSat  = look_angles["range_sat"];
// console.log(i);
// console.log(azimuth);
// console.log(elevation);
// console.log(rangeSat);

// Geodetic coords are accessed via "longitude", "latitude", "height".
var longitude = position_gd["longitude"];
var latitude  = position_gd["latitude"];
// console.log(i);
// console.log(longitude);
// console.log(latitude);
var height = position_gd["height"];
var satHeight = height;

//  Convert the RADIANS to DEGREES for pretty printing (appends "N", "S", "E", "W". etc).
var longitude_str = satellite.degrees_long (longitude);
var latitude_str  = satellite.degrees_lat  (latitude);

 //console.log(i);
// console.log(longitude_str);
// console.log(latitude_str);
strokeWeight(2);
stroke(255,0,0);
var screenX = map(longitude_str,-180,180,0,1400);
var screenY = map(latitude_str,90,-90,0,708);

//point(screenX,screenY);
// console.log(i);
//console.log(screenX);
//console.log(screenY);
var sprite = "images/trash0"+spriteNum[i]+".png";
mods[i] = new Module(screenX, screenY, sprite);
//console.log(i);
if(isOn[i] == true){
	mods[i].draw(mods[i].x,mods[i].y);
	
}

}
}
if(frameCount%30==0 && pickupOn == true){
	rectMode(CENTER);
	noStroke();
	fill(255,128);
	rect(canvas.width/2,canvas.height-50,450,80);
		textSize(32);
		fill(0);
		noStroke();
		textAlign(CENTER);
		if(trashLeft>0){
		text("Pieces of trash left "+trashLeft,canvas.width/2,canvas.height-50);
		textSize(16);
		text("Click the trash to remove it.",canvas.width/2,canvas.height-20);
	}else{
		textSize(20);
		text("Thanks for picking up the space trash!",canvas.width/2,canvas.height-50);
	}
	console.log(trashLeft);
	}
}
function Module(_x, _y, _img) {
	this.x = _x;
	this.y = _y;
	this.img = _img;
}
Module.prototype.draw = function(posx,posy) {
	
	stroke(0);
	strokeWeight(2);
	
	loadImage(this.img, function(img) {
		if(pickupOn == true){
		push();
		imageMode(CENTER);
		translate(posx,posy);
		rotate(random(0,3));
		scale(.5);
    	image(img, 0, 0);
    	pop();
		}
  });

if(trackOn == true){
	point(this.x, this.y);
	}
}
function mousePressed(){
	for(i in mods){
		if(dist(mouseX,mouseY,mods[i].x,mods[i].y)<15){
			isOn[i] = false;
			trashLeft--;
		}
	}
}